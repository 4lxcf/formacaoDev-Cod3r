"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.searchScrap = void 0;
var cheerio_1 = require("cheerio");
var utils_1 = require("../../utils");
function searchScrap(html, limit) {
    var $ = (0, cheerio_1.load)(html);
    var data = $("div.thought-card.mb-20")
        .slice(0, limit)
        .map(function (i, e) {
        return {
            author: $(e).find(".autor").text().trim(),
            content: $(e).find(".frase").text().trim(),
            image_url: $(e).attr("data-src"),
            url: (0, utils_1.formatUrl)($(e)
                .find(".iconbar > .icon-bar--user-wrapper > .icon-user--btn.more > a")
                .attr("href") || $(e).find(".image-card-link").attr("href")),
        };
    })
        .toArray();
    return {
        thought: data,
        total: data.length,
    };
}
exports.searchScrap = searchScrap;
